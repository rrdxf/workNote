### TCP **请求头**

source port：（16位  2bit）源端口号，发送端程序端口

destination port （16位  2bit）目的端口号，接收端程序端口

sequence number（32位 4bit） ： 用来表示从tcp发送端向tcp接收端发送的数据字节流，它表示在这个报文段中的第一个数据字节在数据流中的需要；主要用来结局网络报乱序问题

Acknowledgment number ACK（32位 4bit）确认号 确认序列号包含发送确认的一端所期望收到的下一个序号，因此，确认号应当是上次已功能收到数据字节号加一。不管只有当标志位中的ack标志位1的时候，此字段才有效。主要用来结局不丢包的问题

dataoffset 数据偏移量 （4位16  0.5bit），给出首部中32bit子的数目，需要这个值是因为任选字段的长度是可变的 ，这个字段占4bit（最多能表示15个32bit的字，即4*15=60个字节的首部长度），因此tcp最多有60字节的首部，然而没有人选字段，正常的长度是20字节；如果有额外的tcp的option选项，还得加上option



Reserved 保留字段，还没有使用

Tcp flags 控制位（6位  1.5bit） 每位代表一个控制位，他们中最多可以同时设置位1，只要用于操控tcp的状态机的，依次iweiURG ACK PSH SYN FIN。每个标志位的意思如下

- URG 此标志标识紧急指针，用来保证tcp连接不能被终端，并且督促中间层设备要尽快处理这些数据
- ACK 标志标识应答域有效，就是说前面所有的TCP应答号将会包含在TCP数据包中，有两个取值：0和1，为1标识应答域有效，反之无效
- PSH 标识push操作，所谓push就是咋数据报到达接收端以后，应该立即传送给应用程序，而不是在缓冲区中排队
- RST：复位请求。用来复位那些产生错误的连接，也用来拒绝错误和非法的数据包
- SYN 同步序列号，用来简历连接。SYN标志位和ACk标志位搭配使用，当连接请求的时候，SYN=1  ACK=0；连接被响应的时候，SYN=1，ACK=1；这个标志的数据报经常被用来镜像端口扫描。扫描者发送一个只有SYN的数据包，如果对方主句响应了一个数据包回来，就表名这台主机存在这个端口；但是这种扫描方式只是tcp三次握手的第一次，因此这种扫描的成功表示被扫描的机器不安全，一台安全的主机将会强制要求一个连接严格的进行tcp三次握手
- FIN 表示发送端已经达到数据末尾，也就是双方的数据传送完成，没有数据可以传送了，发送FIN标志位的TCP数据包后，连接将被断开。这个标志的数据包也经常被用于进行端口扫描

window 窗口（16位 2bit）表示可用缓冲区大小，根据缓冲区大小和每次包大小，就可以计算出同时处理tcp包的个数。同时处理的包越多，网越开

Checksum 校验和 （16位 2bit） 检测tcp包是否完整

urgentPointer 紧急指针 （16位 2bit）路由器优先处理

option 可选字段（40字节） 因为dataoffset最多只能表示60个字节长度的tcp头部信息，固定的tcp头位20字节

padding填充位  因为dataoffset最多只能表示头部的长度，必须是4字节的整数倍。如果头不是4字节的整数倍，就需要padding填充位4字节的整数倍

物理

数据链路 ：

网络：ip

传输：tcp udp

应用：