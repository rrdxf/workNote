### c的内存结构

内存的三种分配方式：

1. 从静态存储区分配：此时的内存在程序编译的时候已经分配好，并且在程序的整个运行期间都存在。全局变量，static变量等在此存储
2. 在栈区分配：相关代码执行时创建，执行结束时被自动释放。局部变量再次存储。栈内存分配运算内置于处理器的指令集中，效率高，但容量有限。
3. 在堆区分配：亦称动态分配内存。程序子啊运行的时候用malloc或new申请任意多少的内存，程序员自己负责在任何时用free或delete释放内存。动态内存的生存期由程序员决定，使用非常灵活，但是如果在堆上分配空间，就由责任回收它，否则运行的程序会出现内存泄漏，频繁第分配和释放不同大小的堆空间将会产生堆内存碎块

编译时内存分为5大存储区：

1. 栈区（stack）：编译器自动分配释放，主要存储函数的函数，函数的局部变量等；

   这时由编译器自动分配和释放的区域。主要存储函数的参数，函数的局部变量等。当一个函数开始执行，函数所需的实参，局部变量就推入栈中，该函数执行完毕后，之前进入栈中的参数和变量等也都出栈被释放。他的运行方式类似于数据结构中的栈

2. 堆   由程序员分配释放

   这是由程序员控制分配和释放的区域，在c里，用malloc（）函数分配的空间就存在堆上。在堆上分配的空间不像栈一样在某个函数执行完毕就自动释放，而是一直存在于整个程序将之释放。

3. 全局区和静态区 --存放全局变量和静态变量，编译器控制

4. 字符常量区，由编译器控制

